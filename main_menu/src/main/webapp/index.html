<!doctype html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fansy' All Work</title>
<link rel="stylesheet" type="text/css" href="css/styles.css">
</head>
<body>
<div class="htmleaf-container">
	<div class="wrapper">
		<div class="container">
			<h1 id="info" >Welcome</h1>
			
			<form class="form">
			<!-- 定义 输入框 id为nameid -->
				<input id="nameid" type="text" placeholder="Username" value="fansy">
			<!-- 定义 密码框 id为passwdid -->
				<input id ="passwdid" type="password" placeholder="Password" value="fansy">
				<!-- 定义 提交按钮 id为login-button ，显示为Login -->
				<button type="submit" id="login-button">Login</button>
				
			</form>
			<label id ="info_label"></label>
		</div>
		
		<ul class="bg-bubbles">
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
		</ul>
	</div>
</div>

<script src="js/jquery-2.1.1.min.js" type="text/javascript"></script>
<script type="text/javascript">
$('#login-button').click(function (event) {
	$('#info_label').html("");
	var name_ = $('#nameid').val();
	var passwd_ = $('#passwdid').val();
	console.info("name:"+name_);
	var flag = "3"; 
	$.ajax({
		url: "LoginServlet",
		async:false, 
		data: {name:name_,passwd:passwd_},
		success: function(msg){
        		flag = msg;
      	}
	}); 
	/* 返回值： 1:用户不存在；2:密码错误；0:用户名密码正确 */	
	  if("0" == flag){
		 event.preventDefault(); 
		/* $('form').fadeOut(500);
		$('.wrapper').addClass('form-success');
		$('#info').html("欢迎光临大数据学院网站！"); */
		
		location.href="main.html";
	  }else{
		  event.preventDefault();
		  if("1" == flag){
			  $('#info_label').html("用户不存在！"); 
		  }else{
			  $('#info_label').html("密码错误！");
		  }
		 
	 } 
	
});
</script>

<div style="text-align:center;margin:50px 0;color:#000000">
<h1>工程杂烩面</h1>
</div>
</body>
</html>